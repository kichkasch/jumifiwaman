<script type="text/javascript">
    $(document).ready(function() {
        $('#myDevicesTable1').dataTable();
        $("#accordion").accordion({
            autoHeight: false,
            collapsible: true,
            active: false,
        });        

        $('#devicesTable').dataTable( {
            "sPaginationType": "full_numbers",
            "bJQueryUI": true,
        });

        $('#deviceGroupsTable').dataTable( {
            "sPaginationType": "full_numbers",
            "bJQueryUI": true,
        });

        $('#manufactorersTable').dataTable( {
            "sPaginationType": "full_numbers",
            "bJQueryUI": true,
        });
    } );
    
	$(function() {
          $("#buttonHelp").click(function() {
            $("#dialog-help").dialog({
                width: 800,
                modal: true,
                draggable: false ,
                closeText: 'show',
                autoOpen: true,
                buttons: { "Close": function() { $(this).dialog("close"); } },
            });
          });
      
        $("#buttonDetailToggler").click(function() {
            $("#deviceDetailToggler").toggle("blind",{},500);
            return false;
        });
        
        $("#buttonDetailManToggler").click(function() {
            $("#manDetailToggler").toggle("blind",{},500);
            return false;
        });
                
        $('#buttonMan').click(function() {
            $('#dialogMan').dialog({
                autoOpen: true,
                width: 350,
                modal: true,
                draggable: false ,
                buttons: {
                    'Create this Manufactorer': function() {
                        $('#manufactorersTable').dataTable().fnAddData( [$("#manName").val(),$("#manWebsite").val() ] );
                        $('#devManName').append("<option>" + $("#manName").val() + "</option>");
                        $.post("/newManufactorer",{ 
                            manName: $("#manName").val(), manWebsite: $("#manWebsite").val()});
                        $(this).dialog('close');
                    },
                    Cancel: function() {
                        $(this).dialog('close');
                    }
                },
                close: function() {
                    allFields.val('').removeClass('ui-state-error');
                }
            });
        });

        $('#buttonDeviceGroup').click(function() {
            $('#dialogDevGroup').dialog({
                autoOpen: true,
                width: 350,
                modal: true,
                draggable: false ,
                buttons: {
                    'Create this Device Group': function() {
                        $('#deviceGroupsTable').dataTable().fnAddData( [$("#groupName").val()] );
                        $('#devDevGroup').append("<option>" + $("#groupName").val() + "</option>");
                        $.post("/newDeviceGroup",{ groupName: $("#groupName").val()});
                        $(this).dialog('close');
                    },
                    Cancel: function() {
                        $(this).dialog('close');
                    }
                },
                close: function() {
                    allFields.val('').removeClass('ui-state-error');
                }
            });
        });
   
        $('#buttonDevice').click(function() {
            $('#dialogDevice').dialog({
                autoOpen: true,
                width: 350,
                modal: true,
                draggable: false ,
                buttons: {
                    'Create this Device': function() {
                        $('#devicesTable').dataTable().fnAddData( [$("#deviceId").val(),$("#deviceName").val(),$("#devDevGroup").val(),$("#devManName").val() ] );
                        $.post("/newDevice", {
                            deviceName: $("#deviceName").val(), 
                            deviceID: $("#deviceId").val(), 
                            deviceGroup:$("#devDevGroup").val(),
                            manufactorer:$("#devManName").val() });
                        $(this).dialog('close');
                    },
                    Cancel: function() {
                        $(this).dialog('close');
                    }
                },
                close: function() {
                    allFields.val('').removeClass('ui-state-error');
                }
            });
        });
 	});

    $('#dialog-help').hide();
    $('#date').datepicker();    
    $("#dialog-help").dialog("destroy");
    $("#deviceDetailToggler").hide();
    $("#manDetailToggler").hide();
    $("#dialogMan").hide();
    $("#dialogDevGroup").hide();
    $("#dialogDevice").hide();

    $("#tabs").tabs();

	</script>

